<div class="container">
  <div class='container'>
    <div *ngIf="banners[getBannerIndex(1)]" class="bannerhot1">
      <a [href]="banners[getBannerIndex(1)].linkWeb">
        <img [src]="banners[getBannerIndex(1)].image" class="imgbannerhot" alt="Banner 1">
      </a>
    </div>
  </div>
  <div class="container divcart">
          <div class="row">
              <div class="col-sm-8">
                  <div class='ttcart'>
                  <p class="tintuctieude">Giỏ hàng <span class="soluonggiohang">( <span id="soluonggiohang">{{numCart}}</span> ) sản phẩm</span></p>
                  <hr/>
                  <table class="table tablecart">
                      <tr>
                          <th>Sản phẩm</th>
                          <th>Đơn giá</th>
                          <th>Số lượng</th>
                          <th>Tổng tiền</th>
                      </tr>
                      <tbody id="listcartDes">
                        <tr *ngFor="let cart of carts">
                          <td>
                              <a href=""><img class="imgprocart" [src]="cart.product.imageBanner"/></a>
                              <div class="divnamecart">
                                  <a href="" class="nameprocart">{{cart.product.name}}</a>
                              </div>
                          </td>
                          <td>
                              <p class="boldcart">{{formatMoney(cart.product.price)}} / {{cart.product.unit}}</p>
                          </td>
                          <td>
                              <div class="clusinp">
                                  <button (click)="updowncart(cart.id, -1)" class="cartbtn"> - </button>
                                  <input class="inputslcart" [value]="cart.quantity"/>
                                  <button (click)="updowncart(cart.id, 1)" class="cartbtn"> + </button>
                              </div>
                          </td>
                          <td>
                              <div class="tdpricecart">
                                  <p class="boldcart">{{formatMoney(cart.product.price * cart.quantity)}}</p>
                                  <p (click)="deleteCart(cart.id)" class="delcart"><i class="fa fa-trash facartde"></i></p>
                              </div>
                          </td>
                        </tr>
                      </tbody>
                  </table>
                  </div>
              </div>
              <div class="col-sm-4">
                  <div class="ttcart">
                      <div class="tongdon">
                          <span class="tds">Tổng đơn: </span><span class="tonggiatien" id="tonggiatien">{{formatMoney(totalCart)}}</span>
                          <button data-bs-toggle="modal" data-bs-target="#exampleModal" class="btnthanhtoan">Thanh toán</button>
                      </div>
                      <p class="freeship">MIỄN PHÍ VẬN CHUYỂN VỚI MỌI ĐƠN HÀNG TRÊN WEBSITE</p>
                      <p>Mọi đơn hàng trên hệ thống sẽ được trừ thẳng vào sản phẩm sau khi nhận hàng</p>
                  </div>
              </div>
          </div>
      </div>


      <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-lg">
          <div class="modal-content">
          <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Thanh toán đơn hàng</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
              <div class='row'>
                  <div class='col-sm-6'>
                      <span class="titlecheckout">Thông tin giao hàng</span>
                      <label class='lbcheckout'>Họ tên người nhận</label>
                      <input [(ngModel)]="fullname" name="fullname" id="fullname" class="form-control fomd" placeholder="Họ tên"/>

                      <label class='lbcheckout'>Số điện thoại người nhận</label>
                      <input [(ngModel)]="phone" name="phone" class="form-control fomd" placeholder="Số điện thoại"/>

                      <label class='lbcheckout'>Địa chỉ người nhận</label>
                      <input [(ngModel)]="address" name="address" class="form-control fomd" placeholder="Tên đường, số nhà"/>

                      <label class='lbcheckout'>Ghi chú nhận hàng</label>
                      <textarea [(ngModel)]="note" name="note" class="form-control fomd" placeholder="ghi chú"></textarea>
                  </div>
                  <div class='col-sm-6'>
                      <span class="titlecheckout">Loại hình thanh toán</span>
                      <table class="table table-borderless">
                          <tr>
                              <td><label class="radiocustom">
                                      <input value="momo" id="momo" type="radio" name="paytype" [(ngModel)]="paytype"/>
                                      <span class="checkmark"></span></label></td>
                              <td><label for="momo">Thanh toán qua Ví MoMo</label></td>
                              <td><img src="/image/momo.webp" class="momopay"/></td>
                          </tr>

                          <tr>
                              <td><label class="radiocustom">
                                      <input value="cod" id="code" type="radio" name="paytype" [(ngModel)]="paytype"/>
                                      <span class="checkmark"></span></label></td>
                              <td><label for="code">Thanh toán khi nhận hàng (COD)</label></td>
                              <td><i class="fa fa-money paycode"></i></td>
                          </tr>
                      </table>
                      <hr>
                      <table class='table table-borderless'>
                          <tr>
                              <td><span class="">Tổng tiền phải thanh toán</span></td>
                              <td><span class="tongtienthanhtoan" id="tongtienthanhtoan">{{formatMoney(totalCart)}}</span></td>
                          </tr>
                      </table>
                  </div>
              </div>
          </div>
          <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button (click)="checkOutAction()" type="button" class="btn btn-primary">Xác nhận đặt hàng</button>
          </div>
          </div>
      </div>
      </div>
</div>