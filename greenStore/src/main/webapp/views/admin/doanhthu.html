<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="css/styles.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css" integrity="sha512-5A8nwdMOWrSz20fDsjczgUidUBR8liPYU+WymTZP1lmY9G6Oc7HlZv156XqnsgNUzTyMefFTcsFH/tnJE/+xBg==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha512-SfTiTlX6kk+qitfevl/7LibUOeJWlt9rbyDn92a1DqWOw9vWG2MFoays0sgObmWazO5BQPiFucnnEAjpAB+/Sw==" crossorigin="anonymous" referrerpolicy="no-referrer"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@latest" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/1.1.3/sweetalert.min.js"></script>

    <script src="https://cdn.datatables.net/1.13.2/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.2/js/dataTables.bootstrap5.min.js"></script>
    <link href="https://cdn.datatables.net/1.13.2/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.2.0/css/bootstrap.min.css" rel="stylesheet" />
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/toastr.js/2.0.2/js/toastr.min.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/doanhthu.js"></script>
    <style>
 /* Styling for the body */
body {
    background-color: #f0f4f8;
    color: #333;
    font-family: Arial, sans-serif;
}

/* Styling for the header section */
.header-sp {
    margin: 20px;
    padding: 15px;
    background: linear-gradient(135deg, #f5a623, #f76c6c);
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Styling for the select box */
.form-control {
    border-radius: 10px;
    padding: 12px;
    border: 2px solid #007bff;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    transition: border-color 0.3s, box-shadow 0.3s;
}

.form-control:focus {
    border-color: #0056b3;
    outline: none;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

/* Styling for the filter button */
.btn-primary {
    background: linear-gradient(135deg, #ff7e5f, #feb47b);
    border: none;
    border-radius: 10px;
    color: white;
    padding: 12px 24px;
    font-size: 16px;
    font-weight: bold;
    transition: background 0.3s, box-shadow 0.3s;
}

.btn-primary:hover {
    background: linear-gradient(135deg, #feb47b, #ff7e5f);
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
}

/* Styling for the chart container */
.chart-container {
    border-radius: 12px;
    overflow: hidden;
    background: linear-gradient(135deg, #a2c2e2, #e3f2fd);
}

/* Styling for the chart */
#chart {
    width: 100%;
    height: 400px;
    border-radius: 12px;
    background: #ffffff;
}

/* Styling for the table */
.table {
    margin: 20px;
    border-radius: 8px;
    overflow: hidden;
}

.table th, .table td {
    text-align: center;
    padding: 12px;
}

.table thead {
    background-color: #007bff;
    color: white;
}

.table tbody tr:nth-child(even) {
    background-color: #f9f9f9;
}

.table tbody tr:hover {
    background-color: #e3f2fd;
}

/* Additional styling for better appearance */
.card {
    border: none;
    border-radius: 12px;
    padding: 20px;
    background: #ffffff;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
}


    </style>
    <script>
        window.onload = function() {
            revenueYear(new Date().getFullYear());
            sanPhamBanTheoNgay();
        }
    </script>
</head>

<body class="sb-nav-fixed">
    <nav id="top" class="sb-topnav navbar navbar-expand navbar-dark bg-dark"></nav>
    <div id="layoutSidenav">
        <div id="layoutSidenav_nav"></div>
        <div id="layoutSidenav_content">
            <main class="main">
                <ul class="nav nav-tabs mb-3" id="ex1" role="tablist">
                    <li class="nav-item" role="presentation">
                        <a class="nav-link active" id="ex1-tab-1" data-bs-toggle="tab" href="#ex1-tabs-1" role="tab" aria-controls="ex1-tabs-1" aria-selected="true">Doanh thu theo năm</a>
                    </li>
                    <!-- <li class="nav-item" role="presentation">
                        <a class="nav-link" id="ex1-tab-2" data-bs-toggle="tab" href="#ex1-tabs-2" role="tab" aria-controls="ex1-tabs-2" aria-selected="false">Doanh thu theo tháng</a>
                    </li> -->
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" id="ex1-tab-2" data-bs-toggle="tab" href="#ex1-tabs-2" role="tab" aria-controls="ex1-tabs-2" aria-selected="false">Doanh thu theo tháng</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a class="nav-link" id="ex1-tab-3" data-bs-toggle="tab" href="#ex1-tabs-3" role="tab" aria-controls="ex1-tabs-3" aria-selected="false">Sản phẩm bán theo ngày</a>
                    </li>
                </ul>
                <div class="tab-content" id="ex1-content">
                    <div class="tab-pane fade show active" id="ex1-tabs-1" role="tabpanel" aria-labelledby="ex1-tab-1" >
                        <div class="col-sm-12 header-sp row ">
                            <div class="col-md-3">
                                <p class="loctheongay">Chọn năm cần xem</p>
                                <select id="nams" class="form-control">
                                    <option id="2023">2023</option>
                                    <option id="2024">2024</option>
                                    <option id="2025">2025</option>
                                    <option id="2026">2026</option>
                                    <option id="2027">2027</option>
                                    <option id="2028">2028</option>
                                </select>
                            </div>
                            <div class="col-md-2"><br>
                                <button onclick="loadByNam()" class="btn btn-primary form-control" style="margin-top: 10px;"><i class="fa fa-filter"></i> Lọc</button>
                            </div>
                        </div>
                        <div class="col-sm-12 divtale">
                            <div class="card chart-container divtale">
                                <canvas id="chart"></canvas>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="ex1-tabs-2" role="tabpanel" aria-labelledby="ex1-tab-2">
                        <div class="col-sm-12 header-sp row ">
                            <div class="col-md-3">
                                <p class="loctheongay">Chọn tháng cần xem</p>
                                <select class="form-control" id="thangcanxem">

                                </select>
                            </div>
                            <div class="col-md-3">
                                <p class="loctheongay">Chọn năm cần xem</p>
                                <select class="form-control" id="namcanxem">

                                </select>
                            </div>
                            <div class="col-md-2"><br>
                                <button onclick="sanPhamBanTheoThang()" class="btn btn-primary form-control" style="margin-top: 10px;"><i class="fa fa-filter"></i> Lọc</button>
                            </div>
                        </div>
                        <table id="examplemonth" class="table table-striped tablefix">
                            <thead class="thead-tablefix">
                            <tr>
                                <th>id</th>
                                <th>Ảnh</th>
                                <th>Tên</th>
                                <th>Giá</th>
                                <th>Số lượng bán</th>
                            </tr>
                            </thead>
                            <tbody id="listproductmonth">

                            </tbody>
                        </table>
                    </div>
                    <div class="tab-pane fade" id="ex1-tabs-3" role="tabpanel" aria-labelledby="ex1-tab-3">
                        <div class="col-sm-12 header-sp row ">
                            <div class="col-md-3">
                                <p class="loctheongay">Chọn ngày cần xem</p>
                                <input class="form-control" type="date" id="ngaycanxem">
                            </div>
                            <div class="col-md-2"><br>
                                <button onclick="sanPhamBanTheoNgay()" class="btn btn-primary form-control" style="margin-top: 10px;"><i class="fa fa-filter"></i> Lọc</button>
                            </div>
                        </div>
                        <table id="example" class="table table-striped tablefix">
                            <thead class="thead-tablefix">
                            <tr>
                                <th>id</th>
                                <th>Ảnh</th>
                                <th>Tên</th>
                                <th>Giá</th>
                                <th>Số lượng bán</th>
                            </tr>
                            </thead>
                            <tbody id="listproduct">

                            </tbody>
                        </table>
                    </div>
                </div>
            </main>
        </div>
    </div>
</body>

<script>
   
    $(document).ready(function() {
    const today = new Date();
    const yyyy = today.getFullYear();
    const mm = String(today.getMonth() + 1).padStart(2, '0'); // Tháng bắt đầu từ 0
    const dd = String(today.getDate()).padStart(2, '0');

    // Thiết lập giá trị cho ngày hiện tại
    const currentDate = `${yyyy}-${mm}-${dd}`;
    document.getElementById('ngaycanxem').value = currentDate;

    // Tạo các tùy chọn cho năm
    var yearOptions = '';
    for (let i = yyyy; i >= 2013; i--) {
        yearOptions += `<option value="${i}">${i}</option>`;
    }
    document.getElementById("namcanxem").innerHTML = yearOptions;
    document.getElementById("namcanxem").value = yyyy;

    // Tạo các tùy chọn cho tháng
    var monthOptions = '';
    for (let i = 1; i <= 12; i++) {
        let month = String(i).padStart(2, '0'); // Đảm bảo định dạng 01, 02, ..., 12
        monthOptions += `<option value="${month}">${month}</option>`;
    }
    document.getElementById("thangcanxem").innerHTML = monthOptions;
    document.getElementById("thangcanxem").value = mm;

    // Gọi hàm sanPhamBanTheoThang khi tab doanh thu theo tháng được chọn
    $('#ex1-tab-2').on('shown.bs.tab', function () {
        sanPhamBanTheoThang();
    });
});

    document.addEventListener('DOMContentLoaded', function() {
            // Kiểm tra URL hash và kích hoạt tab tương ứng
            var hash = window.location.hash;
            if (hash) {
                var tabElement = document.querySelector(`a[href="${hash}"]`);
                if (tabElement) {
                    var tab = new bootstrap.Tab(tabElement);
                    tab.show();
                }
            }
        });
</script>
</html>